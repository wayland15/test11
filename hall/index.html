<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>–ì–ª–∞–≤–Ω—ã–π —Ö–æ–ª–ª ‚Äî VR</title>

<link rel="stylesheet" href="pannellum.css">
<script src="pannellum.js"></script>

<style>
html, body {
  width:100%;
  height:100%;
  margin:0;
  background:#000;
}
#panorama {
  width:100%;
  height:100%;
}

/* ===== –°–¢–†–ï–õ–ö–ê ===== */
.arrow {
  background: rgba(0,0,0,0.75);
  color: #fff;
  padding: 12px 16px;
  border-radius: 50%;
  font-size: 22px;
  cursor: pointer;
  user-select: none;
  transition: 0.2s;
}
.arrow:hover {
  background: rgba(110,231,183,0.9);
  color: #000;
}

/* ===== –ó–ê–ì–ê–î–ö–ê ===== */
#riddle {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999;
}
#riddleBox {
  background: #111;
  padding: 25px;
  border-radius: 16px;
  max-width: 420px;
  text-align: center;
  color: #fff;
}
#riddleBox button {
  margin-top: 15px;
  padding: 10px 18px;
  border: none;
  border-radius: 8px;
  background: #6ee7b7;
  font-weight: bold;
  cursor: pointer;
}
</style>
</head>

<body>

<!-- ===== –ó–ê–ì–ê–î–ö–ê ===== -->
<div id="riddle">
  <div id="riddleBox">
    <h2>–ó–∞–≥–∞–¥–∫–∞</h2>
    <p>
      –ó–¥–µ—Å—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø—É—Ç—å –∫–∞–∂–¥–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞.<br>
      –ü—Ä–æ—Å—Ç–æ—Ä–Ω–æ, —Å–≤–µ—Ç–ª–æ –∏ –≤—Å–µ–≥–¥–∞ –ª—é–¥–Ω–æ.<br>
      –ß—Ç–æ —ç—Ç–æ –∑–∞ –º–µ—Å—Ç–æ?
    </p>
    <button onclick="solve()">–û—Ç–≤–µ—Ç: –ì–ª–∞–≤–Ω—ã–π —Ö–æ–ª–ª</button>
  </div>
</div>

<div id="panorama"></div>

<script>
let nextArrow = null;

/* ===== –°–û–ó–î–ê–ù–ò–ï –°–¢–†–ï–õ–ö–ò ===== */
function createArrow(hotSpotDiv, args) {
  hotSpotDiv.className = 'arrow';
  hotSpotDiv.innerHTML = '‚û°';
  hotSpotDiv.style.display = 'none'; // –°–ö–†–´–¢–ê
  hotSpotDiv.onclick = () => {
    window.location.href = args.url;
  };
  nextArrow = hotSpotDiv;
}

/* ===== –ó–ê–ì–ê–î–ö–ê –†–ï–®–ï–ù–ê ===== */
function solve() {
  document.getElementById('riddle').style.display = 'none';
  if (nextArrow) nextArrow.style.display = 'block';
}

/* ===== PANNELLUM ===== */
pannellum.viewer('panorama', {
  type: 'cubemap',
  autoLoad: true,

  cubeMap: [
    '1_Holl_Front.jpg',
    '1_Holl_Right.jpg',
    '1_Holl_Back.jpg',
    '1_Holl_Left.jpg',
    '1_Holl_Up.jpg',
    '1_Holl_Down.jpg'
  ],

  hotSpots: [
    {
      pitch: -5,
      yaw: 90,
      type: 'custom',
      createTooltipFunc: createArrow,
      createTooltipArgs: {
        url: '../room502/index.html'   // üëâ –°–õ–ï–î–£–Æ–©–ê–Ø –õ–û–ö–ê–¶–ò–Ø
      }
    }
  ]
});
</script>

</body>
</html>
